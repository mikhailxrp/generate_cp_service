# –ò–º–ø–æ—Ä—Ç –ø—Ä–∞–π—Å–∞ –∏–∑ CSV –≤ price_items

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV-—Ñ–∞–π–ª–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü—É `price_items`.

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**

- ‚ùå **–ù–ï –ú–ï–ù–Ø–ï–ú** —Å—Ö–µ–º—É –ë–î (`price_items`) ‚Äî –Ω–∏–∫–∞–∫–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ **–°–û–•–†–ê–ù–Ø–ï–ú** —Å—Ç—Ä—É–∫—Ç—É—Ä—É `attrs` –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è: `electrical`, `mechanical`, `compat`, `bos`, `meta`
- ‚úÖ **–ü–ï–†–ï–ò–°–ü–û–õ–¨–ó–£–ï–ú** –ª–æ–≥–∏–∫—É –º–∞–ø–ø–∏–Ω–≥–∞ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö Excel-—Å–∫—Ä–∏–ø—Ç–æ–≤
- ‚úÖ **UPSERT**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ `sku` –ø—Ä–∏ –¥—É–±–ª–∏–∫–∞—Ç–∞—Ö

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `attrs`

–î–ª—è **–õ–Æ–ë–û–ô** –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å `attrs` –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π:

```typescript
type PriceItemAttrs = {
  electrical?: Record<string, any>; // —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  mechanical?: Record<string, any>; // –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  compat?: Record<string, any>; // —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å
  bos?: Record<string, any>; // –æ–±–≤—è–∑–∫–∞, —Ä–∞–±–æ—Ç—ã, –∫–∞–±–µ–ª–∏
  meta?: Record<string, any>; // –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã–µ: –±—Ä–µ–Ω–¥, stock_raw, priority_raw –∏ —Ç.–ø.
};
```

### –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

#### üîπ –ò–Ω–≤–µ—Ä—Ç–æ—Ä—ã (`inverter`)

```javascript
attrs: {
  electrical: {
    ac_power_kw,
    phases,
    grid_type,
    mppt_count,
    strings_per_mppt,
    max_dc_voltage_v,
    ac_max_current_a
  },
  compat: {
    battery_support,
    roof_applicable,
    ground_applicable,
    carport_applicable,
    parallel_work,
    segment_b2c,
    segment_b2b
  },
  bos: {
    dc_cable_single_m_per_kw,
    dc_cable_double_m_per_kw,
    ac_cable_m_per_kw,
    breaker_type,
    work_cost_1,
    work_cost_2
  },
  meta: {
    brand,
    raw_category,
    stock_raw,
    priority_raw
  }
}
```

#### üîπ –ü–∞–Ω–µ–ª–∏ (`panel`)

```javascript
attrs: {
  electrical: {
    power_w,
    efficiency_pct,
    voc_v,
    voc_temp_coeff_pct_per_c,
    voc_minus30_v,
    voc_for_calc_v,
    imp_a
  },
  mechanical: {
    weight_kg,
    dimensions_mm,
    mech_load_pa,
    snow_load_kg_m2,
    wind_load_m_s
  },
  compat: {
    roof_flat,
    roof_metal,
    ground_mount,
    carport,
    facade,
    segment_b2c,
    segment_b2b
  },
  bos: {
    work_cost_1,
    work_cost_2
  },
  meta: {
    brand,
    raw_category,
    panel_type,
    grounding,
    warranty_years,
    stock_raw,
    priority_raw
  }
}
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

### 1Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install csv-parse
```

### 2Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ CSV-—Ñ–∞–π–ª–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `./data/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
mkdir data
```

–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ª–∏—Å—Ç—ã –∏–∑ `–ü—Ä–∞–π—Å –†–†–¶.xlsx` –≤ CSV:

- `PRICE_INVERTERS` ‚Üí `./data/PRICE_INVERTERS.csv`
- `PRICE_MODULES` ‚Üí `./data/PRICE_MODULES.csv`
- `PRICE_ESS` ‚Üí `./data/PRICE_ESS.csv`
- `PRICE_BATT` ‚Üí `./data/PRICE_BATT.csv`
- `PRICE_MOUNT_BOS` ‚Üí `./data/PRICE_MOUNT_BOS.csv`

**–í–∞–∂–Ω–æ:** –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ –≤ CSV –¥–æ–ª–∂–Ω—ã –¢–û–ß–ù–û —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∫–æ–ª–æ–Ω–æ–∫ –≤ Excel!

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –∏–º–ø–æ—Ä—Ç–∞

```bash
# –ò–Ω–≤–µ—Ä—Ç–æ—Ä—ã
node scripts/importInvertersFromCsv.js

# –ü–∞–Ω–µ–ª–∏
node scripts/importModulesFromCsv.js
```

**–í–æ –≤—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:**

```
============================================================
üöÄ –ò–º–ø–æ—Ä—Ç: –ò–Ω–≤–µ—Ä—Ç–æ—Ä—ã
============================================================

‚†ã –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å—Ç—Ä–æ–∫: 247 | –í—Ä–µ–º—è: 12s

============================================================
‚úÖ –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à—ë–Ω: –ò–Ω–≤–µ—Ä—Ç–æ—Ä—ã
============================================================

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π: 42
   üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö: 13
   ‚ö†Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω–æ (–æ—à–∏–±–∫–∏/–ø—É—Å—Ç—ã–µ): 2
   üìù –í—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å—Ç—Ä–æ–∫: 247

============================================================
```

---

## üîß –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –¥–ª—è –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω

–í–æ–∑—å–º–∏—Ç–µ –∑–∞ –æ—Å–Ω–æ–≤—É `importInvertersFromCsv.js` –∏–ª–∏ `importModulesFromCsv.js`.

### –®–∞–≥ 2: –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

```javascript
// 1Ô∏è‚É£ –ò–∑–º–µ–Ω–∏—Ç—å –ø—É—Ç—å –∫ CSV
const csvPath = resolve(process.cwd(), "./data/PRICE_ESS.csv");

// 2Ô∏è‚É£ –ò–∑–º–µ–Ω–∏—Ç—å categoryCode
const [category] = await db
  .select()
  .from(priceCategories)
  .where(eq(priceCategories.code, "ess")) // <-- –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  .limit(1);
```

### –®–∞–≥ 3: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –º–∞–ø–ø–∏–Ω–≥–∞

–ù–∞–π–¥–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Excel-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `scripts/importEss.js`).

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –º–∞–ø–ø–∏–Ω–≥–∞ –æ—Ç—Ç—É–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `mapEssRowToPriceItem`), –∑–∞–º–µ–Ω–∏–≤ —Ç–æ–ª—å–∫–æ:

```javascript
// –ë–´–õ–û (–¥–ª—è Excel):
const mapEssRowToPriceItem = (row, categoryId) => {
  const baseMeta = {
    brand: row["–ë—Ä–µ–Ω–¥"] || null,
    // ...
  };

  const attrs = {
    electrical: {
      capacity_kwh: toNum(row["–ï–º–∫–æ—Å—Ç—å_–∫–í—Ç‚ãÖ—á"]),
      // ...
    },
    // ...
  };

  return {
    categoryId,
    typeCode: "ess", // <-- –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–æ–¥ —Ç–∏–ø–∞
    sku: String(row["SKU"] || "").trim(),
    // ...
  };
};
```

**–ù–ï –ú–ï–ù–Ø–ô–¢–ï:**

- –ù–∞–∑–≤–∞–Ω–∏—è –∫–ª—é—á–µ–π –≤ `attrs.electrical`, `attrs.compat`, `attrs.bos`, `attrs.meta`
- –°—Ç—Ä—É–∫—Ç—É—Ä—É –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è `attrs`
- –õ–æ–≥–∏–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞ (`toNum`, `toBool`, `parseGridType` –∏ —Ç.–ø.)

**–ú–ï–ù–Ø–ô–¢–ï –¢–û–õ–¨–ö–û:**

- –ö–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ CSV —á–∏—Ç–∞—é—Ç—Å—è (`row["–ù–∞–∑–≤–∞–Ω–∏–µ_–∫–æ–ª–æ–Ω–∫–∏"]`)
- –ó–Ω–∞—á–µ–Ω–∏–µ `typeCode` (–¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `priceCategories.code`)

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç UPSERT

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MySQL-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å `ON DUPLICATE KEY UPDATE`:

```sql
INSERT INTO price_items (...)
VALUES (...)
ON DUPLICATE KEY UPDATE
  title = VALUES(title),
  price_rub = VALUES(price_rub),
  ...
  updated_at = CURRENT_TIMESTAMP
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**

- –ï—Å–ª–∏ `sku` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å (—Ü–µ–Ω–∞, –∞—Ç—Ä–∏–±—É—Ç—ã, stock –∏ —Ç.–ø.)
- –ï—Å–ª–∏ `sku` –Ω–æ–≤—ã–π ‚Üí –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å

**–í–∞–∂–Ω–æ:** –ø–æ–ª–µ `sku` –≤ —Ç–∞–±–ª–∏—Ü–µ `price_items` –∏–º–µ–µ—Ç UNIQUE constraint.

---

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∞ —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç:

```
üéâ –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à—ë–Ω.
‚ûï –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π: 42
üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö: 13
‚ö†Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–æ (–æ—à–∏–±–∫–∏/–ø—É—Å—Ç—ã–µ): 3
```

**–û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ** ‚Äî –µ—Å–ª–∏ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ —É–ø–∞–ª–∞, —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É.

---

## üõ†Ô∏è –û–±—â–∏–µ –ø–∞—Ä—Å–µ—Ä—ã (–¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö)

```javascript
// –ß–∏—Å–ª–æ —Å –∑–∞–ø—è—Ç–æ–π ‚Üí float
toNum("123,45"); // 123.45

// –¶–µ–ª–æ–µ —á–∏—Å–ª–æ
toInt("42"); // 42

// –ë—É–ª–µ–≤–æ–µ
toBool("–î–∞"); // true
toBool("–ù–µ—Ç"); // false

// –ù–∞–ª–∏—á–∏–µ: "–î–∞" ‚Üí 1, "–ù–µ—Ç" ‚Üí 0
parseStockFlag("–î–∞"); // 1

// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: "–Ω–∏–∑–∫–∏–π" ‚Üí 1, "—Å—Ä–µ–¥–Ω–∏–π" ‚Üí 2, "–≤—ã—Å–æ–∫–∏–π" ‚Üí 3
parsePriority("–≤—ã—Å–æ–∫–∏–π"); // 3

// –¢–∏–ø —Å–µ—Ç–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω–≤–µ—Ä—Ç–æ—Ä–æ–≤)
parseGridType("–ì–∏–±—Ä–∏–¥–Ω—ã–π"); // "hybrid"
parseGridType("on-grid"); // "on_grid"
parseGridType("off-grid"); // "off_grid"

// –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∞—Ç–∞—Ä–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω–≤–µ—Ä—Ç–æ—Ä–æ–≤)
parseBatterySupport("LV"); // "lv"
parseBatterySupport("HV"); // "hv"
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

1. **–ù–µ –ø–∞–¥–∞–µ–º –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç–∞—Ö** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ–º —á–µ—Ä–µ–∑ UPSERT
2. **–ü—Ä–æ–ø—É—Å–∫–∞–µ–º –±–∏—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏** ‚Äî –µ—Å–ª–∏ –Ω–µ—Ç SKU –∏–ª–∏ –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
3. **–õ–æ–≥–∏—Ä—É–µ–º –≤—Å–µ –æ—à–∏–±–∫–∏** ‚Äî –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞
4. **–ù–µ –º–µ–Ω—è–µ–º —Å—Ö–µ–º—É –ë–î** ‚Äî —Ä–∞–±–æ—Ç–∞–µ–º –¢–û–õ–¨–ö–û —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø–æ–ª—è–º–∏
5. **–°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É `attrs`** ‚Äî –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞–∫–µ—Ç `csv-parse`
- [ ] CSV-—Ñ–∞–π–ª –ª–µ–∂–∏—Ç –≤ `./data/`
- [ ] –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ –≤ CSV —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å Excel
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `price_categories`
- [ ] –§—É–Ω–∫—Ü–∏—è –º–∞–ø–ø–∏–Ω–≥–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ Excel-—Å–∫—Ä–∏–ø—Ç–∞
- [ ] `typeCode` –∏ `categoryCode` —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üêõ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞: `–ö–∞—Ç–µ–≥–æ—Ä–∏—è 'XXX' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞`

**–†–µ—à–µ–Ω–∏–µ:** –¥–æ–±–∞–≤—å—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ `price_categories`:

```sql
INSERT INTO price_categories (code, title, group_code)
VALUES ('ess', '–°–∏—Å—Ç–µ–º—ã –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏', 'core');
```

### –û—à–∏–±–∫–∞: `Duplicate entry 'SKU-123' for key 'sku'`

**–†–µ—à–µ–Ω–∏–µ:** —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚Äî —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UPSERT –∏ –æ–±–Ω–æ–≤–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å.

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è `upsertPriceItem()`, –∞ –Ω–µ –ø—Ä—è–º–æ–π `db.insert()`.

### –û—à–∏–±–∫–∞: –∫–æ–ª–æ–Ω–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ CSV

**–†–µ—à–µ–Ω–∏–µ:** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫ –≤ CSV **–¢–û–ß–ù–û** —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –∫–æ–¥–æ–º:

```javascript
// –í –∫–æ–¥–µ:
row["–ú–æ—â–Ω–æ—Å—Ç—å_–∫–í—Ç"];

// –í CSV –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫:
–ú–æ—â–Ω–æ—Å—Ç—å_–∫–í—Ç;
```

**–í–∞–∂–Ω–æ:** —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä, –ø—Ä–æ–±–µ–ª—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã!

---

## üéØ –ò—Ç–æ–≥–∏

- ‚úÖ –°–∫—Ä–∏–ø—Ç —á–∏—Ç–∞–µ—Ç CSV-—Ñ–∞–π–ª –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –ª–æ–≥–∏–∫—É –º–∞–ø–ø–∏–Ω–≥–∞, —á—Ç–æ –∏ Excel-–∏–º–ø–æ—Ä—Ç
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–æ `sku`
- ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É `attrs`
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã –ë–î

**–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:**

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω
2. –ò–∑–º–µ–Ω–∏—Ç–µ `csvPath`, `categoryCode`, `typeCode`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –º–∞–ø–ø–∏–Ω–≥–∞ –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ Excel-—Å–∫—Ä–∏–ø—Ç–∞
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ

**–í–æ–ø—Ä–æ—Å—ã?** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã: `importInvertersFromCsv.js`, `importModulesFromCsv.js`.
