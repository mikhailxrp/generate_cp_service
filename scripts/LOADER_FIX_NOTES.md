# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–∞–¥–µ—Ä–∞ –¥–ª—è Windows PowerShell

## –ü—Ä–æ–±–ª–µ–º–∞

–õ–æ–∞–¥–µ—Ä –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ –≤—Ä–µ–º—è –∏–º–ø–æ—Ä—Ç–∞ CSV –≤ Windows PowerShell ‚Äî –≤–º–µ—Å—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∫–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–ª–æ—Å—å –∫–∞–∫ –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞.

## –†–µ—à–µ–Ω–∏–µ

### 1. –í—ã–Ω–µ—Å–ª–∏ –ª–æ–≥–∏–∫—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `_render()`

```javascript
_render() {
  const spinner = this.frames[this.currentFrame];
  const elapsed = Math.floor((Date.now() - this.lastUpdate) / 1000);
  const line = `${spinner} –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å—Ç—Ä–æ–∫: ${this.processed} | –í—Ä–µ–º—è: ${elapsed}s`;
  
  // –ü—Ä–æ—Å—Ç–æ–π –º–µ—Ç–æ–¥ ‚Äî –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å –∑–∞–ø–∞—Å–æ–º –ø—Ä–æ–±–µ–ª–æ–≤
  // –†–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö (–≤–∫–ª—é—á–∞—è PowerShell –±–µ–∑ ANSI)
  const paddedLine = line.padEnd(60, " ");
  process.stdout.write(`\r${paddedLine}`);
}
```

### 2. –ò—Å–ø–æ–ª—å–∑—É–µ–º `padEnd()` –≤–º–µ—Å—Ç–æ ANSI escape-–∫–æ–¥–æ–≤

–ü—Ä–∏—á–∏–Ω—ã:
- ‚úÖ **Windows PowerShell** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ANSI escape-–∫–æ–¥—ã
- ‚úÖ `\r` (–≤–æ–∑–≤—Ä–∞—Ç –∫–∞—Ä–µ—Ç–∫–∏) + padding —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ –∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä —Å—Ä–∞–∑—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

```javascript
start() {
  // ...
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –∫–∞–¥—Ä —Å—Ä–∞–∑—É
  this._render();
  
  this.interval = setInterval(() => {
    this.currentFrame = (this.currentFrame + 1) % this.frames.length;
    this._render();
  }, 80);
}
```

### 4. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ `update()`

```javascript
update(count) {
  this.processed = count;
  // –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –≤—ã–≤–æ–¥ –ø—Ä–∏ —Ä—É—á–Ω–æ–º –∞–ø–¥–µ–π—Ç–µ
  if (this.interval) {
    this._render();
  }
}
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–õ–æ–∞–¥–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–æ –≤—Å–µ—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:**
- Windows PowerShell
- Windows Terminal
- Git Bash
- Linux/macOS bash/zsh
- VSCode –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

```
============================================================
üöÄ –ò–º–ø–æ—Ä—Ç: –¢–µ—Å—Ç–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
============================================================

‚†è –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å—Ç—Ä–æ–∫: 42 | –í—Ä–µ–º—è: 3s
```

–ê–Ω–∏–º–∞—Ü–∏—è —Å–ø–∏–Ω–Ω–µ—Ä–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 80ms, —Å—á—ë—Ç—á–∏–∫ —Å—Ç—Ä–æ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ `update()`.

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–æ—á–µ–º—É `\x1B[2K` (ANSI clear line) –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª?

PowerShell –≤ Windows 10 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç ANSI escape-–∫–æ–¥—ã. –î–ª—è –∏—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω—É–∂–Ω–æ:
1. –í–∫–ª—é—á–∏—Ç—å VT100 —ç–º—É–ª—è—Ü–∏—é –≤ Windows
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Windows Terminal –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ PowerShell

### –ü–æ—á–µ–º—É `clearLine()` –∏ `cursorTo()` –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏?

–≠—Ç–∏ –º–µ—Ç–æ–¥—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (`isTTY`). –í PowerShell –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã, –Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –≤—ã–≤–æ–¥–∞.

### –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ: `padEnd()`

–°–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥:
```javascript
const paddedLine = line.padEnd(60, " ");
process.stdout.write(`\r${paddedLine}`);
```

- `\r` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –∫–∞—Ä–µ—Ç–∫–∏ –≤ –Ω–∞—á–∞–ª–æ —Å—Ç—Ä–æ–∫–∏
- `padEnd(60, " ")` ‚Äî –¥–æ–ø–æ–ª–Ω—è–µ—Ç —Å—Ç—Ä–æ–∫—É –ø—Ä–æ–±–µ–ª–∞–º–∏ –¥–æ 60 —Å–∏–º–≤–æ–ª–æ–≤, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—è –æ—Å—Ç–∞—Ç–∫–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤—ã–≤–æ–¥–∞

---

**–í–µ—Ä—Å–∏—è:** 2.0  
**–î–∞—Ç–∞:** 2025-11-19  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ



